(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{192:function(t,e,n){t.exports=n.p+"assets/img/navigation-timing.a97cf426.png"},344:function(t,e,n){"use strict";n.r(e);var a=n(0),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("原文链接")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming",target:"_blank",rel:"noopener noreferrer"}},[t._v("W3C"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"浏览器页面导航事件图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器页面导航事件图"}},[t._v("#")]),t._v(" 浏览器页面导航事件图")]),t._v(" "),a("p",[a("img",{attrs:{src:n(192),alt:"events"}})]),t._v(" "),a("h2",{attrs:{id:"navigation-timing-level-1-已过时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#navigation-timing-level-1-已过时"}},[t._v("#")]),t._v(" Navigation Timing Level 1 (已过时)")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[Exposed=Window]\ninterface PerformanceTiming {\n  readonly attribute unsigned long long navigationStart;\n  readonly attribute unsigned long long unloadEventStart;\n  readonly attribute unsigned long long unloadEventEnd;\n  readonly attribute unsigned long long redirectStart;\n  readonly attribute unsigned long long redirectEnd;\n  readonly attribute unsigned long long fetchStart;\n  readonly attribute unsigned long long domainLookupStart;\n  readonly attribute unsigned long long domainLookupEnd;\n  readonly attribute unsigned long long connectStart;\n  readonly attribute unsigned long long connectEnd;\n  readonly attribute unsigned long long secureConnectionStart;\n  readonly attribute unsigned long long requestStart;\n  readonly attribute unsigned long long responseStart;\n  readonly attribute unsigned long long responseEnd;\n  readonly attribute unsigned long long domLoading;\n  readonly attribute unsigned long long domInteractive;\n  readonly attribute unsigned long long domContentLoadedEventStart;\n  readonly attribute unsigned long long domContentLoadedEventEnd;\n  readonly attribute unsigned long long domComplete;\n  readonly attribute unsigned long long loadEventStart;\n  readonly attribute unsigned long long loadEventEnd;\n  [Default] object toJSON();\n};\n")])])]),a("h3",{attrs:{id:"navigationstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#navigationstart"}},[t._v("#")]),t._v(" navigationStart")]),t._v(" "),a("p",[t._v("该属性将在卸载前一个页面后立即返回时间。如果是在空白页面打开的，则返回当前页面的创建时间")]),t._v(" "),a("h3",{attrs:{id:"unloadeventstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unloadeventstart"}},[t._v("#")]),t._v(" unloadEventStart")]),t._v(" "),a("p",[t._v("如果前一个页面和当前页面同源，则返回前一个页面卸载事件开始的时间；如果没有前一个页面，或者\n两个页面不同源，则返回 "),a("code",[t._v("0")])]),t._v(" "),a("h3",{attrs:{id:"unloadeventend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unloadeventend"}},[t._v("#")]),t._v(" unloadEventEnd")]),t._v(" "),a("p",[t._v("如果前一个页面和当前页面同源，则返回前一个页面卸载事件结束的时间；如果没有前一个页面，或者\n两个页面不同源，或者前一个页面的卸载事件还未结束，则返回 "),a("code",[t._v("0")])]),t._v(" "),a("p",[t._v("如果导航时存在"),a("code",[t._v("HTTP重定向")]),t._v("，且"),a("strong",[t._v("不是")]),t._v("所有的重定向都是同源的，则"),a("code",[t._v("PerformanceTiming.unloadEventStart")]),t._v("和"),a("code",[t._v("PerformanceTiming.unloadEventEnd")]),t._v(" 都返回 "),a("code",[t._v("0")])]),t._v(" "),a("h3",{attrs:{id:"redirectstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirectstart"}},[t._v("#")]),t._v(" redirectStart")]),t._v(" "),a("p",[t._v("如果导航时存在"),a("code",[t._v("HTTP重定向")]),t._v("，且"),a("strong",[t._v("所有")]),t._v("的重定向都是同源的，则此属性返回获取("),a("code",[t._v("fetch")]),t._v(")重定向开始的时间，否则返回"),a("code",[t._v("0")])]),t._v(" "),a("h3",{attrs:{id:"redirectend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirectend"}},[t._v("#")]),t._v(" redirectEnd")]),t._v(" "),a("p",[t._v("如果导航时存在"),a("code",[t._v("HTTP重定向")]),t._v("，且"),a("strong",[t._v("所有")]),t._v("的重定向都是同源的，则返回接收到最后一个重定向请求的最后一个字节的时间，否则返回"),a("code",[t._v("0")])]),t._v(" "),a("h3",{attrs:{id:"fetchstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fetchstart"}},[t._v("#")]),t._v(" fetchStart")]),t._v(" "),a("p",[t._v("如果指向的新的页面资源需要使用"),a("code",[t._v("GET")]),t._v("请求去获取的话，这个属性将返回浏览器开始检查缓存(也就是检查浏览器缓存)是否命中的时间\n，否则，返回浏览器发起请求的开始时间。")]),t._v(" "),a("h3",{attrs:{id:"domainlookupstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domainlookupstart"}},[t._v("#")]),t._v(" domainLookupStart")]),t._v(" "),a("p",[t._v("该属性返回浏览器开始进行DNS解析的时间。如果命中了缓存（非DNS缓存），或者是长连接，则返回和"),a("code",[t._v("fetchStart")]),t._v("一样的时间")]),t._v(" "),a("h3",{attrs:{id:"domainlookupend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domainlookupend"}},[t._v("#")]),t._v(" domainLookupEnd")]),t._v(" "),a("p",[t._v("该属性返回浏览器结束DNS解析的时间。如果命中了缓存(非DNS缓存)，或者是长连接，则返回和"),a("code",[t._v("fetchStart")]),t._v("一样的时间")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("如果浏览器从各种缓存中取到了DNS信息(浏览器本身的缓存、操作系统缓存、hosts文件等), 则上述两个属性表示了\n浏览器开始读取缓存以及读取结束的时间")])]),t._v(" "),a("h3",{attrs:{id:"connectstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connectstart"}},[t._v("#")]),t._v(" connectStart")]),t._v(" "),a("p",[t._v("该属性返回浏览器建立连接的开始时间，如果命中了缓存(浏览器缓存)，或者是长连接，则返回和"),a("code",[t._v("domainLookupEnd")]),t._v("一样的时间")]),t._v(" "),a("h3",{attrs:{id:"connectend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connectend"}},[t._v("#")]),t._v(" connectEnd")]),t._v(" "),a("p",[t._v("该属性返回浏览器建立连接的结束时间，如果命中了缓存(浏览器缓存)，或者是长连接，则返回和"),a("code",[t._v("domainLookupEnd")]),t._v("一样的时间")]),t._v(" "),a("p",[t._v("如果连接建立失败，并且浏览器重发了连接请求，"),a("code",[t._v("PerformanceTiming.connectStart")]),t._v(" 和 "),a("code",[t._v("PerformanceTiming.connectEnd")]),t._v("\n返回新连接对应的值")]),t._v(" "),a("p",[a("code",[t._v("PerformanceTiming.connectEnd")]),t._v("包括建立传输连接的时间以及其他时间，如"),a("code",[t._v("SSL")]),t._v("握手时间以及"),a("code",[t._v("SOCKS")]),t._v("身份验证时间")]),t._v(" "),a("h3",{attrs:{id:"secureconnectionstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#secureconnectionstart"}},[t._v("#")]),t._v(" secureConnectionStart")]),t._v(" "),a("p",[t._v("该属性时可选的。如果当前页面是"),a("code",[t._v("HTTPS")]),t._v("安全连接， 则返回浏览器开始"),a("code",[t._v("HTTPS")]),t._v("握手的时间，否则返回"),a("code",[t._v("0")])]),t._v(" "),a("h3",{attrs:{id:"requeststart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requeststart"}},[t._v("#")]),t._v(" requestStart")]),t._v(" "),a("p",[t._v("此属性必须返回浏览器开始从服务器、缓存或本地资源请求当前文档的时间。")]),t._v(" "),a("p",[t._v("如果在发送请求后传输连接失败，并且浏览器重新建立连接并重发了请求， "),a("code",[t._v("PerformanceTiming.requestStart")]),t._v("应该返回新请求的相应值。")]),t._v(" "),a("h3",{attrs:{id:"responsestart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#responsestart"}},[t._v("#")]),t._v(" responseStart")]),t._v(" "),a("p",[t._v("此属性返回浏览器从服务器、缓存或本地资源接收到响应的第一个字节后的时间。")]),t._v(" "),a("h3",{attrs:{id:"responseend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#responseend"}},[t._v("#")]),t._v(" responseEnd")]),t._v(" "),a("p",[t._v("此属性返回的是，浏览器接收到当前文档的最后一个字节的时间，或者传输连接关闭的时间，取两者中的较小值。")]),t._v(" "),a("h3",{attrs:{id:"domloading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domloading"}},[t._v("#")]),t._v(" domLoading")]),t._v(" "),a("p",[t._v("返回浏览器将当前文档状态设置成"),a("code",[t._v("loading")]),t._v("的时间点")]),t._v(" "),a("h3",{attrs:{id:"dominteractive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dominteractive"}},[t._v("#")]),t._v(" domInteractive")]),t._v(" "),a("p",[t._v("返回浏览器将当前文档状态设置成"),a("code",[t._v("interactive")]),t._v("（可交互）的时间点")]),t._v(" "),a("h3",{attrs:{id:"domcontentloadedeventstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domcontentloadedeventstart"}},[t._v("#")]),t._v(" domContentLoadedEventStart")]),t._v(" "),a("p",[t._v("返回浏览器触发"),a("code",[t._v("DOMContentLoaded")]),t._v("事件执行的时间点")]),t._v(" "),a("h3",{attrs:{id:"domcontentloadedeventend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domcontentloadedeventend"}},[t._v("#")]),t._v(" domContentLoadedEventEnd")]),t._v(" "),a("p",[t._v("返回"),a("code",[t._v("DOMContentLoaded")]),t._v("事件执行完成的时间点")]),t._v(" "),a("h3",{attrs:{id:"domcomplete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domcomplete"}},[t._v("#")]),t._v(" domComplete")]),t._v(" "),a("p",[t._v("返回浏览器将当前文档状态设置成"),a("code",[t._v("complete")]),t._v("的时间点")]),t._v(" "),a("h3",{attrs:{id:"loadeventstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loadeventstart"}},[t._v("#")]),t._v(" loadEventStart")]),t._v(" "),a("p",[t._v("返回浏览器触发"),a("code",[t._v("onload")]),t._v("事件执行的时间点，否则为0")]),t._v(" "),a("h3",{attrs:{id:"loadeventend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loadeventend"}},[t._v("#")]),t._v(" loadEventEnd")]),t._v(" "),a("p",[t._v("返回"),a("code",[t._v("onload")]),t._v("事件执行完成的时间点")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("浏览器加载转圈结束的时间点为"),a("code",[t._v("loadEventEnd")])])]),t._v(" "),a("h2",{attrs:{id:"navigation-timing-level-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#navigation-timing-level-2"}},[t._v("#")]),t._v(" Navigation Timing Level 2")]),t._v(" "),a("p",[t._v("TBD")])])}),[],!1,null,null,null);e.default=o.exports}}]);